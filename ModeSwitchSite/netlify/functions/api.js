// Define sample articles
const articles = [
  {
    id: 1,
    title: "The future of remote work: a world of opportunities",
    excerpt: "How companies and employees are adapting to a new work paradigm with flexible arrangements and digital collaboration.",
    imageUrl: "https://picsum.photos/id/1/800/500",
    publishedAt: "2025-01-15T08:00:00Z",
    readTime: 5,
    featured: true,
    category: "Business",
    author: {
      name: "Alex Johnson",
      avatarUrl: "https://i.pravatar.cc/150?img=1"
    },
    content: "Remote work has been on the rise for years, but the global pandemic accelerated this trend exponentially. What was once considered a perk offered by forward-thinking companies has now become standard practice across industries.\n\nCompanies are finding that remote work arrangements can lead to increased productivity, reduced overhead costs, and access to a global talent pool. Employees are discovering the benefits of eliminating commutes, having more control over their work environment, and achieving better work-life balance.\n\nHowever, this shift is not without challenges. Organizations must develop new strategies for maintaining company culture, facilitating collaboration, and preventing employee burnout. Workers need to create boundaries between professional and personal life when both occupy the same physical space.\n\nTechnology continues to evolve to meet these needs, with virtual reality meetings, digital whiteboards, and sophisticated project management tools becoming increasingly common. The future of work will likely be hybrid, with flexible arrangements tailored to both organizational needs and individual preferences.\n\nAs we navigate this transformation, it's clear that the traditional 9-to-5 office model is being reimagined for a digital age. The companies and individuals who adapt most effectively to this new paradigm will be positioned for success in the workplace of tomorrow."
  },
  {
    id: 2,
    title: "How to build a successful startup",
    excerpt: "Essential strategies for entrepreneurs looking to transform innovative ideas into thriving businesses.",
    imageUrl: "https://picsum.photos/id/20/800/500",
    publishedAt: "2024-12-10T10:30:00Z",
    readTime: 8,
    featured: false,
    category: "Entrepreneurship",
    author: {
      name: "Sarah Chen",
      avatarUrl: "https://i.pravatar.cc/150?img=5"
    },
    content: "Building a successful startup requires more than just a great idea—it demands strategic planning, resilience, and execution. The journey from concept to profitable business is filled with challenges, but following key principles can significantly improve your chances of success.\n\nFirst, focus on solving a real problem. The most successful startups address genuine pain points for their target customers. Conduct thorough market research to validate your idea and ensure there's demand for your solution.\n\nSecond, assemble the right team. Surround yourself with individuals whose skills complement yours and who share your vision and values. A diverse team brings different perspectives and can help navigate the many obstacles you'll face.\n\nThird, embrace iteration. Your initial product doesn't need to be perfect—it needs to be viable. Launch a minimum viable product (MVP) to gather user feedback, then refine based on real-world usage. This approach allows you to adapt quickly and avoid spending resources on features users don't want.\n\nFourth, manage your finances carefully. Many startups fail due to cash flow problems. Be realistic about your funding needs, monitor expenses closely, and have contingency plans for different financial scenarios.\n\nFinally, focus relentlessly on your customers. Understanding their needs, responding to their feedback, and delivering exceptional value will help you build loyalty and generate word-of-mouth marketing—often the most effective form of promotion for early-stage companies.\n\nThe startup journey is rarely linear, and success often comes after multiple pivots and setbacks. By staying adaptable, learning from failures, and maintaining your passion through difficult times, you'll be better positioned to join the ranks of successful entrepreneurs who have transformed innovative ideas into thriving businesses."
  },
  {
    id: 3,
    title: "Sustainable Travel Tips: Reducing Your Carbon Footprint",
    excerpt: "How to explore the world while minimizing environmental impact through eco-conscious choices.",
    imageUrl: "https://picsum.photos/id/30/800/500",
    publishedAt: "2025-02-05T14:15:00Z",
    readTime: 6,
    featured: true,
    category: "Travel",
    author: {
      name: "Maya Patel",
      avatarUrl: "https://i.pravatar.cc/150?img=9"
    },
    content: "Travel broadens our horizons and creates unforgettable experiences, but it also comes with an environmental cost. The good news is that with some thoughtful choices, we can significantly reduce our carbon footprint while still exploring the beautiful destinations our planet has to offer.\n\nChoose transportation wisely. Air travel typically generates the largest portion of a trip's carbon footprint. When possible, opt for direct flights (takeoffs and landings create the most emissions), consider train travel for shorter distances, or explore destinations closer to home. If you must fly, consider investing in carbon offset programs through reputable organizations.\n\nSelect eco-conscious accommodations. Look for hotels and lodges with strong environmental certifications or practices, such as energy-efficient systems, water conservation measures, waste reduction programs, and locally-sourced food. Alternatively, consider homestays or eco-lodges that are designed to minimize environmental impact while supporting local communities.\n\nPack light and right. Every extra pound requires more fuel to transport. Bring reusable items like water bottles, shopping bags, and utensils to avoid single-use plastics. Pack clothing made from sustainable materials and biodegradable toiletries.\n\nEmbrace slow travel. Rather than rushing to multiple destinations, spend more time in fewer places. This approach not only reduces transportation emissions but also allows for deeper cultural experiences and more meaningful connections with local communities.\n\nRespect wildlife and natural habitats. Observe animals from a respectful distance in their natural environments rather than supporting attractions that exploit them. Stay on marked trails when hiking, and follow Leave No Trace principles—take only photographs and leave only footprints.\n\nSupport local economies. Eat at locally-owned restaurants serving regional cuisine, shop at local markets, and hire local guides. This reduces the carbon footprint associated with imported goods and contributes directly to the communities you visit.\n\nSustainable travel isn't about perfect decisions; it's about making better choices where possible. By taking small steps to reduce our environmental impact, we can help ensure that the breathtaking landscapes, diverse ecosystems, and rich cultures that inspire us to travel will remain for future generations to enjoy."
  },
  {
    id: 4,
    title: "The Science of Habit Formation",
    excerpt: "Understanding the psychology behind habits and practical strategies for breaking bad patterns and building positive routines.",
    imageUrl: "https://picsum.photos/id/40/800/500",
    publishedAt: "2025-01-28T09:45:00Z",
    readTime: 7,
    featured: false,
    category: "Psychology",
    author: {
      name: "Dr. James Wilson",
      avatarUrl: "https://i.pravatar.cc/150?img=12"
    },
    content: "Habits shape our lives in profound ways, often operating below the level of conscious awareness. Understanding the science behind how habits form—and how they can be changed—gives us powerful tools for personal transformation and growth.\n\nAt its core, every habit operates on a three-part loop: cue, routine, and reward. The cue triggers the behavior, the routine is the behavior itself, and the reward is what reinforces the habit loop. For example, feeling stressed (cue) might lead to checking social media (routine), which provides temporary distraction (reward).\n\nNeuroscience research shows that habit formation involves the basal ganglia, a region of the brain involved in procedural learning. As behaviors become habitual, they require less conscious effort—explaining why we can drive home on autopilot or brush our teeth without thinking about each step.\n\nChanging habits requires working with this system, not against it. Here are evidence-based strategies for breaking unwanted habits and building beneficial ones:\n\nIdentify the cue and reward. To change a habit, first understand what triggers it and what reward you're really seeking. Sometimes the apparent reward isn't the actual reinforcer—you might think you crave the sugar in a mid-afternoon cookie, but the real reward might be the social interaction of walking to the break room.\n\nStart small. Research shows that tiny, manageable changes are more likely to stick than ambitious overhauls. Want to exercise more? Begin with just five minutes daily rather than committing to hour-long workouts.\n\nUse implementation intentions. These specific plans in the format \"When X happens, I will do Y\" have been shown to significantly increase follow-through. For example: \"When I finish dinner, I will immediately put on my running shoes.\"\n\nLeverage habit stacking. Attach new habits to existing ones using the formula: \"After I [current habit], I will [new habit].\" This uses established neural pathways to build new ones.\n\nDesign your environment. Our surroundings powerfully influence our behavior. Make good habits easy and bad habits difficult by changing your physical space—keep healthy snacks visible and junk food hidden, for instance.\n\nPractice self-compassion. Research shows that being kind to yourself after inevitably slipping up makes you more likely to get back on track, while harsh self-criticism often leads to abandoning goals entirely.\n\nThrough consistent application of these principles, we can gradually reshape our automatic behaviors. The process takes time—research suggests anywhere from 18 to 254 days for a new habit to become automatic, with an average of 66 days—but the long-term impact on our health, productivity, and well-being can be transformative."
  },
  {
    id: 5,
    title: "The Art of Black-and-White Photography",
    excerpt: "Exploring the timeless appeal of monochrome imagery and techniques for creating compelling black-and-white photographs.",
    imageUrl: "https://picsum.photos/id/50/800/500",
    publishedAt: "2024-12-20T16:00:00Z",
    readTime: 6,
    featured: true,
    category: "Photography",
    author: {
      name: "Elena Rodriguez",
      avatarUrl: "https://i.pravatar.cc/150?img=16"
    },
    content: "In a world saturated with vibrant colors competing for our attention, black-and-white photography stands apart with its timeless elegance and powerful simplicity. Removing color from an image strips it down to its fundamental elements—light, texture, form, and composition—often revealing aspects that might otherwise go unnoticed.\n\nThe history of monochrome photography extends back to the very origins of the medium, when technical limitations made black-and-white the only option. Today, however, photographers deliberately choose this format for its unique aesthetic and emotional qualities. Without the distraction of color, viewers often connect more deeply with the subject matter and the mood of an image.\n\nSuccessful black-and-white photography relies on understanding several key principles. First, learn to see in terms of contrast and tonality. Before pressing the shutter, visualize how the scene will translate into grayscale. Elements that appear distinct in color may blend together in monochrome if their luminance values are similar.\n\nPay special attention to lighting, as it becomes even more crucial in black-and-white. Side lighting and backlighting often work particularly well, highlighting textures and creating dramatic shadows that add depth and dimension.\n\nComposition takes center stage without color to guide the eye. Strong geometric shapes, leading lines, patterns, and the thoughtful use of negative space become powerful tools for creating compelling monochrome images.\n\nIn post-processing, the black-and-white conversion is just the beginning. Adjusting the luminosity of different color channels gives you precise control over how various elements in your image are rendered in grayscale. For example, darkening blues can create a more dramatic sky, while lightening greens can make foliage appear more luminous.\n\nContrast management is essential—finding the right balance between pure blacks, clean whites, and the full spectrum of grays in between. Too much contrast can look harsh and lose detail; too little can appear flat and lifeless.\n\nMastering black-and-white photography teaches valuable skills that improve all aspects of photographic craft. By focusing on the fundamental building blocks of visual storytelling, photographers develop a deeper understanding of how images communicate and connect with viewers on an emotional level. In a medium where less truly becomes more, the absence of color creates space for presence, meaning, and lasting impact."
  }
];

// Main handler function
export async function handler(event, context) {
  // Set CORS headers
  const headers = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Headers': 'Content-Type',
    'Content-Type': 'application/json'
  };

  // Handle OPTIONS request for CORS preflight
  if (event.httpMethod === 'OPTIONS') {
    return {
      statusCode: 200,
      headers,
      body: JSON.stringify({ message: 'CORS preflight response' })
    };
  }

  // Get the path from the event
  const path = event.path;

  // Handle GET /api/articles
  if (path === '/.netlify/functions/api/articles' && event.httpMethod === 'GET') {
    return {
      statusCode: 200,
      headers,
      body: JSON.stringify(articles)
    };
  }

  // Handle GET /api/articles/:id
  const articleMatch = path.match(/\/.netlify\/functions\/api\/articles\/(\d+)/);
  if (articleMatch && event.httpMethod === 'GET') {
    const id = parseInt(articleMatch[1]);
    const article = articles.find(a => a.id === id);

    if (article) {
      return {
        statusCode: 200,
        headers,
        body: JSON.stringify(article)
      };
    } else {
      return {
        statusCode: 404,
        headers,
        body: JSON.stringify({ message: 'Article not found' })
      };
    }
  }

  // Return 404 for any other route
  return {
    statusCode: 404,
    headers,
    body: JSON.stringify({ message: 'Not found' })
  };
} 